<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SoundBankPlayer: SoundBankPlayer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<h1>SoundBankPlayer Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="SoundBankPlayer" -->
<p><code>#import &lt;<a class="el" href="_sound_bank_player_8h_source.html">SoundBankPlayer.h</a>&gt;</code></p>

<p><a href="class_sound_bank_player-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_sound_bank_player.html#a9d12712fcbf97a3f066a74b365416997">setSoundBank:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_sound_bank_player.html#a5acae6f711492389d73aa893ac2b76a5">noteOn:gain:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_sound_bank_player.html#a1c96038213beb44ad956d74c55752b36">queueNote:gain:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_sound_bank_player.html#ab831717ce55d8b6c06214539dbe91f8d">playQueuedNotes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_sound_bank_player.html#a66e1e6131c95e397620cf86106d256e5">noteOff:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_sound_bank_player.html#a123886500e2ec6319f45f4dddadfa370">allNotesOff</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ff85c09ffb7b9b71fe38c90384ecfe9"></a><!-- doxytag: member="SoundBankPlayer::initialized" ref="a3ff85c09ffb7b9b71fe38c90384ecfe9" args="" -->
BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#a3ff85c09ffb7b9b71fe38c90384ecfe9">initialized</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">whether OpenAL is initialized <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6a2e4f2faabaf6d020c23dcd5ff4968"></a><!-- doxytag: member="SoundBankPlayer::numBuffers" ref="aa6a2e4f2faabaf6d020c23dcd5ff4968" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#aa6a2e4f2faabaf6d020c23dcd5ff4968">numBuffers</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of active <a class="el" href="struct_buffer.html">Buffer</a> objects <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0b34b2242e56e587b9a451de59af640"></a><!-- doxytag: member="SoundBankPlayer::sampleRate" ref="af0b34b2242e56e587b9a451de59af640" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#af0b34b2242e56e587b9a451de59af640">sampleRate</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the sample rate of the sound bank <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5a3ffc2c2163baf0e906c0f73320fa7"></a><!-- doxytag: member="SoundBankPlayer::buffers" ref="aa5a3ffc2c2163baf0e906c0f73320fa7" args="[MAX_BUFFERS]" -->
<a class="el" href="struct_buffer.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#aa5a3ffc2c2163baf0e906c0f73320fa7">buffers</a> [MAX_BUFFERS]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">list of buffers, not all are active <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64363f10c4f4983cfe101fe120c6733d"></a><!-- doxytag: member="SoundBankPlayer::sources" ref="a64363f10c4f4983cfe101fe120c6733d" args="[NUM_SOURCES]" -->
<a class="el" href="struct_source.html">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#a64363f10c4f4983cfe101fe120c6733d">sources</a> [NUM_SOURCES]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">list of active sources <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a659d27971a2812e9f5a14b5a71063e6d"></a><!-- doxytag: member="SoundBankPlayer::notes" ref="a659d27971a2812e9f5a14b5a71063e6d" args="[NUM_NOTES]" -->
<a class="el" href="struct_note.html">Note</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#a659d27971a2812e9f5a14b5a71063e6d">notes</a> [NUM_NOTES]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the notes indexed by MIDI note number <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa020241cacaea6246e74d7f1e8f8bd43"></a><!-- doxytag: member="SoundBankPlayer::context" ref="aa020241cacaea6246e74d7f1e8f8bd43" args="" -->
ALCcontext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#aa020241cacaea6246e74d7f1e8f8bd43">context</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenAL context. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afef459b1144f850385540860e9f003e7"></a><!-- doxytag: member="SoundBankPlayer::device" ref="afef459b1144f850385540860e9f003e7" args="" -->
ALCdevice *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#afef459b1144f850385540860e9f003e7">device</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenAL device. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a437c39c10171e0774263f2a4a033401b"></a><!-- doxytag: member="SoundBankPlayer::soundBankName" ref="a437c39c10171e0774263f2a4a033401b" args="" -->
NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#a437c39c10171e0774263f2a4a033401b">soundBankName</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the current sound bank <br/></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_sound_bank_player.html#a1ab030ff3a242c3a70092375febd229f">loopNotes</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="interface_sound_bank_player.html">SoundBankPlayer</a> is a sample-based audio player that uses OpenAL. It employs "sound banks", which contain a set of samples. Each sample covers one or more notes, which allows you to implement a full instrument with only a few samples (like SoundFonts but simpler).</p>
<p>The <a class="el" href="interface_sound_bank_player.html">SoundBankPlayer</a> takes care of setting up the Audio Session. You only have to provide the sound samples (in CAF format) and a PLIST file that describes how the samples map to MIDI notes.</p>
<p>The sound samples must always be mono. <a class="el" href="interface_sound_bank_player.html">SoundBankPlayer</a> pans the notes to achieve a stereo effect. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a123886500e2ec6319f45f4dddadfa370"></a><!-- doxytag: member="SoundBankPlayer::allNotesOff" ref="a123886500e2ec6319f45f4dddadfa370" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) allNotesOff </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stops all playing notes. </p>

</div>
</div>
<a class="anchor" id="a66e1e6131c95e397620cf86106d256e5"></a><!-- doxytag: member="SoundBankPlayer::noteOff:" ref="a66e1e6131c95e397620cf86106d256e5" args="(int midiNoteNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) noteOff: </td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"> <em>midiNoteNumber</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stops playing a particular note. This method is really only useful when loopNotes is set to YES. Turning a note off when it is not playing is okay, it just does nothing. </p>

</div>
</div>
<a class="anchor" id="a5acae6f711492389d73aa893ac2b76a5"></a><!-- doxytag: member="SoundBankPlayer::noteOn:gain:" ref="a5acae6f711492389d73aa893ac2b76a5" args="(int midiNoteNumber,[gain] float gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) noteOn: </td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"> <em>midiNoteNumber</em></td>
        </tr>
        <tr>
          <td class="paramkey">gain:</td>
          <td></td>
          <td class="paramtype">(float)&#160;</td>
          <td class="paramname"> <em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Plays the note with the specified MIDI note number.</p>
<p>If there are no free sources found (i.e. there are more than NUM_SOURCES notes playing), an existing source may be terminated to make room for the new sound. The algorithm for this currently always picks the oldest source.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">midiNoteNumber</td><td>the MIDI note number </td></tr>
    <tr><td class="paramname">gain</td><td>An attenuation factor. If you are going to play multiple notes at the same time, then it's wise to set <em>gain</em> to 0.5f or lower to prevent clipping. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab831717ce55d8b6c06214539dbe91f8d"></a><!-- doxytag: member="SoundBankPlayer::playQueuedNotes" ref="ab831717ce55d8b6c06214539dbe91f8d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) playQueuedNotes </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Plays the enqueued notes. </p>

</div>
</div>
<a class="anchor" id="a1c96038213beb44ad956d74c55752b36"></a><!-- doxytag: member="SoundBankPlayer::queueNote:gain:" ref="a1c96038213beb44ad956d74c55752b36" args="(int midiNoteNumber,[gain] float gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) queueNote: </td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"> <em>midiNoteNumber</em></td>
        </tr>
        <tr>
          <td class="paramkey">gain:</td>
          <td></td>
          <td class="paramtype">(float)&#160;</td>
          <td class="paramname"> <em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>To play a chord, performance will be better if you enqueue a bunch of notes and then play them all simultaneously. </p>

</div>
</div>
<a class="anchor" id="a9d12712fcbf97a3f066a74b365416997"></a><!-- doxytag: member="SoundBankPlayer::setSoundBank:" ref="a9d12712fcbf97a3f066a74b365416997" args="(NSString *soundBankName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setSoundBank: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"> <em>soundBankName</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the sound bank that the sounds will be loaded from.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">soundBankName</td><td>the name of a PLIST file from the bundle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a1ab030ff3a242c3a70092375febd229f"></a><!-- doxytag: member="SoundBankPlayer::loopNotes" ref="a1ab030ff3a242c3a70092375febd229f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) loopNotes<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For continuous tone instruments (such as an organ sound) set this to YES.</p>
<p>Make sure you provide raw sound fonts that wrap nicely, i.e. try to catch a whole number of waves in the sample and clip it at the zero crossings. Even then it's hard to get it perfect so it's better to use really long samples. If you are setting loopNotes to YES, you will need to call noteOff: to quiet a playing note.</p>
<p>For piano notes and other sounds that naturally decay to silence, set this property to NO. You don't need to call noteOff:, the note will automatically terminate itself when it has played to the end of the sample. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Classes/<a class="el" href="_sound_bank_player_8h_source.html">SoundBankPlayer.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Oct 9 2011 13:46:35 for SoundBankPlayer by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
